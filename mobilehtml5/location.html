<!DOCTYPE html> 
<html> 
  <head> 
  <title>Location Sample</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />
  <script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
  <script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>
  <script src="http://borismoore.github.com/jsrender/jsrender.js"></script>
  <script type="text/javascript">
$(document).bind("pageinit", function() {
  navigator.geolocation.getCurrentPosition(function(position) {
    $("#location").html($('#loc').render(position));
  }, function(error) {
    $("#location").html($('#error').render(error));
  });
});
$.views.helpers({
    format: function( val, format ) {
        return new Date(val).toLocaleString();
    },
});
  </script>
  <script id="loc" type="text/x-jsrender">
<p>緯度: {{:coords.latitude}}</p>
<p>経度: {{:coords.longitude}}</p>
<p>精度: {{:coords.accuracy}}</p>
<p>標高: {{:coords.altitude}}</p>
<p>標高精度: {{:coords.altitudeAccuracy}}</p>
<p>向き: {{:coords.heading}}</p>
<p>速度: {{:coords.speed}}</p>
<p>時刻: {{:~format(timestamp)}}</p>
  </script>
  <script id="error" type="text/x-jsrender">
<p>code: {{:code}}</p>
<p>message: {{:message}}</p>
  </script>
</head> 
<body> 
<div data-role="page">
  <div data-role="header">
    <h1>Current Location</h1>
  </div>
  <div data-role="content">
<div id="location"></div>
  </div>
</div>
</body>
</html>
